# Инструкция по использованию сервиса

## Предисловие
Сервис предоставляет возможность скачивать сжатый архив Docker образа в формате `<imageName_tag(dateOfCreation).tar>`. Скачивать образы можно как локальные из регистра, так и с интернета (общедоступные).

Написан на Python 3.9
## Цели сервиса
Облегчить доставку и распространение Docker образов )))

## Сценарии использования

### Скачивание образа из интернета
1. Вводим имя образа в "Поле ввода имени Docker образа" (Пример ввода: `nginx:alpine`).
2. Нажимаем кнопку "Скачать архив".
3. Ждем от 5 до 10 минут, пока загрузится сам образ на сервер, после чего он сжимается в архив и начинается скачивание архива в браузере.
4. В итоге получаем архив с именем `nginx_alpine(2023-04-06_12:45).tar`.

### Скачивание образа из локального регистра
1. Чтобы узнать какие имена для образов используются в локальном регистре, нужно перейти по ссылке "Перейти в DockerHub" из окна сервиса.
2. Выбрать необходимую ветку репозитория.
3. Из открывшейся ветки выбрать необходимое название образа.
4. Из предложенных версий (тэгов) образа выбрать необходимый и скопировать его имя. Скопированное имя будет иметь вид наподобие `docker pull 10.3.29.38:5000/repo/image_name:tag`, необходимо отсечь `docker pull` и оставить только название образа `10.3.29.38:5000/repo/image_name:tag`.
5. Вводим это имя образа в "Поле ввода имени Docker образа".
6. Нажимаем кнопку "Скачать архив".
7. Ждем от 5 до 10 минут...
8. В итоге получаем архив с именем "image_name_tag(2023-04-06_12:40).tar".

> Примечание: при загрузке архива с образом в Docker, например, `docker load -i image_name_tag(2023-04-06_12:40).tar`, на выходе образ будет иметь название "image_name:tag". Дата создания архива (2023-04-06_12:40) прикрепляется только к архиву образа!

### Скачивание образа с изменением его тэга
1. Вводим имя образа в "Поле ввода имени Docker образа" (Пример ввода: `10.3.29.38:5000/repo/image_name:tag`).
2. Нажимаем кнопку "Изменить тэг перед скачиванием".
3. В появившемся дополнительном поле ввода для тэга вводим тэг, который хотим присвоить образу. (Пример ввода: `tagHF3`).
4. Нажимаем кнопку "Скачать архив".
5. В итоге получаем архив с измененным тэгом - `image_name_tagHF3(2023-04-06_12:40).tar`.

### Использование кнопок "Проверить архив" и "Удалить архив"
Опционально есть возможность скачать уже имеющийся архив, используя кнопку 'Проверить архив', вместо создания нового. Кнопка 'Удалить архив' пригодится, если требуется пересоздать архив, например, при ошибке с тегами или для включения последних изменений образа после обновления в регистре.

#### Пример проверки архива с именем foo на наличие и скачивание найденного архива
1. Вводим в "Поле ввода имени Docker образа" `<предполагаемое имя образа\архива>` (Пример ввода: `foo`).
2. Нажимаем кнопку "Проверить архив".
3. Если сервис нашел совпадения имен архивов с foo, то выведет список доступных архивов начинающихся на `foo*` для скачивания.
4. Из этого списка выбираем нужный и нажимаем на него, после чего начнется скачивание архива в браузере.

#### Пример с удалением архива из сервера
1. Вводим в "Поле ввода имени Docker образа" `<предполагаемое имя образа\архива>` (Пример ввода: `foo`).
2. Нажимаем кнопку "Проверить архив".
3. Если сервис нашел совпадения имен архивов с foo, то выведет список доступных архивов начинающихся на `foo*` на сервере.
4. Полностью копируем название архива (должно быть на подобие - `image_name_B8(2023-04-06_12:40).tar`).
5. Вставляем это название архива в "Поле ввода имени Docker образа".
6. Нажимаем кнопку "Удалить архив".
